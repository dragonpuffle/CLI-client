# SMS CLI Client

1. [Описание](#Описание)
2. [Функционал](#Функционал)
3. [Установка](#Установка)
4. [Запуск](#Запуск)
5. [Тестирование](#Тестирование)
6. [Мок-сервер](#Мок-сервер)
7. [Логирование](#Логирование)
## Описание
Это CLI-программа, которая являться клиентом к условному сервису отправки СМС-сообщений.
Клиент взаимодействует с сервером, отправляет запросы и получает ответ от сервера.

Задание выполнено согласно требованиям из файла "Тестовое задание. Стажёр в Python.pdf"

## Функционал
-- Отправка сообщения (Адресант, адресат, сообщение) с использованием socket.

-- Клиент-сервис с классами клиента, запроса и ответа.

-- Запуск программы с указанием параметров (sender, recipient, msg).

-- Конфигурация в файле config.toml (Адрес сервера, логин и пароль пользователя).

-- Логирование отправленных сообщений клиентом и полученных ответов от сервера.

## Установка
### Клонируем репозиторий

```bash
git clone <https://github.com/dragonpuffle/CLI-client.git>
cd <имя репозитория>
```
### Устанавливаем необходимые библиотеки

```bash
pip install -r requirements.txt
```
## Запуск
Программа запускается из командной строки. Имеет параметры sender, recipient, msg:

-- sender: Номер отправителя.

-- recipient: Номер получателя.

-- msg: Сообщение.

Пример запуска:

```python
python main.py --sender 89036666666 --recipient 89995676435 --msg "Привет!"
```
## Тестирование
Для проверки кода были реализованы тесты для отдельных функций и общий работы в целом.
Запустить тесты можно следующей командой:

```python
pytest -s test.py 
```
## Мок-сервер
Можно проверить реализацию клиента с мок-сервером.
1. Скачать Prism для своей платформы:

○ Windows / Linux / macOS: https://github.com/stoplightio/prism/releases 

2. Запустить мок-сервер:
   
○ Linux: ./prism-cli-linux mock sms-platform.yaml 

○ macOS: ./prism-cli-macos mock sms-platform.yaml 

○ Windows: ./prism-cli-win.exe mock sms-platform.yaml

После запуска API будет доступно по адресу: http://localhost:4010/send_sms 

## Логирование
Вся информация от клиента (адресант, адресат, сообщение) и ответы приходящие от сервера сохраняются в файл client.log.
